<div>
    <h1 class="page-title">{{postData.title}}</h1>

    <!--Information about the thread that is pinned to the top-->
    <div style="padding-bottom: 6%;">
        {{postData.author}} &bullet; {{globals.getNiceTime(postData.createdAt.toString())}}
    </div>

    <!--Post contents-->
    <div>
        <table class="post-table">
            <tr>
                <!--Poster information-->
                <td class="post-author">
                    <img [src]="postUser.pfpUrl" class="post-pfp">
                    <div>{{postData.author}}</div>
                    <div>{{globals.getRoleName(postUser.privilege)}}</div>
                </td>

                <!--Post content-->
                <td class="post-content">
                    <div class="text-info">{{globals.getNiceTime(postData.createdAt.toString())}}</div>

                    <div class="text-content">
                        {{postData.content}}
                    </div>
                    <hr *ngIf="postUser.signature !== ''">
                    {{postUser.signature}}
                </td>
            </tr>
            <tr *ngFor="let comment of postData.comments">
                <!--Comment author-->
                <td>

                </td>
                <!--Comment content-->
                <td>

                </td>
            </tr>

            <!--Comment post form-->
            <tr *ngIf="currentUser.username !== ''">
                <td class="post-author">
                    <img [src]="currentUser.pfpUrl" class="post-pfp">
                </td>
                <!--Actual form-->
                <td>
                    <form #commentRef="ngForm" (ngSubmit)="makeComment(commentRef)" class="form-stylized" style="padding: 15px;">
                        <textarea name="reply" placeholder="Write your reply..." value="Write your reply..." ngModel></textarea>
                        <br><br>
                        <button type="submit" class="btn-primary">
                            <mat-icon>reply</mat-icon>
                            Post reply
                        </button>
                    </form>
                </td>
            </tr>
        </table>
        
        <!--User must be logged in to comment-->
        <div *ngIf="currentUser.privilege==0" class="msg-login-required" style="text-align: center;">
            <mat-icon>lock</mat-icon>
            You must be logged in to comment
        </div>
    </div>
</div>
